1. Handle duplicates in the history list
2. Add more autocmd based tests
3. Preserve and expose the whole tree of history files
